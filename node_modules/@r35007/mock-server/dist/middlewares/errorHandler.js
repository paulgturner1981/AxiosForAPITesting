"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const chalk_1 = __importDefault(require("chalk"));
exports.default = (err, _req, res, next) => {
    if (!err)
        return next();
    const response = err.response;
    if (response) {
        res.status(response.status || 500);
        res.send(response.data);
    }
    else {
        res.status(err.status || 500);
        res.send(err.message || 'Internal Server Error');
        if (err.message !== 'Page Not Found') {
            console.log(chalk_1.default.red('\nError. Something went wrong !'));
            console.log(chalk_1.default.gray(err.message) + '\n');
        }
    }
};
